(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[12],{121:function(e,s,t){"use strict";t.r(s);var a=t(0),r=t(5),c=t(2),n=t(24),o=t.n(n),d=t(10);var l=function(){return new URLSearchParams(Object(d.h)().search)},i=t(18),u=t(1),b=t(19),p=t(22),m=t(26);s.default=function(){var e=Object(u.useState)(""),s=Object(r.a)(e,2),t=s[0],n=s[1],j=Object(u.useState)(""),x=Object(r.a)(j,2),h=x[0],w=x[1],f=Object(u.useState)(!1),O=Object(r.a)(f,2),g=O[0],v=O[1],N=Object(d.g)(),y=l(),P=y.get("token"),k=y.get("email"),S=Object(m.a)(),T=S.register,L=S.handleSubmit,R=S.errors,H=S.watch,q=Object(u.useRef)({});q.current=H("password",""),Object(u.useEffect)((function(){p.a.checkToken(P,k).then((function(e){var s=e.data;return n(s)})).catch((function(e){return console.error(e.response)}))}),[P,k]);return Object(a.jsx)(i.a,{title:"Reset Password",children:t.showForm?Object(a.jsxs)("div",{className:"pt-12",children:[Object(a.jsx)("header",{className:"max-w-lg mx-auto mb-4",children:Object(a.jsx)("h1",{className:"text-4xl font-bold text-center",children:"Reset Password"})}),Object(a.jsx)("div",{className:"mx-auto max-w-lg shadow-2xl p-8 md:p-10",children:Object(a.jsxs)("form",{className:"flex flex-col",onSubmit:L((function(e){v(!0),p.a.resetPassword(P,k,e.password,e.password2).then((function(e){var s=e.data;if("error"===s.status)return v(!1),void w(s);b.b.success(s.message),setTimeout((function(){N.push("/login")}),2e3)})).catch((function(e){v(!1)}))})),children:[Object(a.jsxs)(c.Label,{className:"mb-4",children:[Object(a.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),Object(a.jsx)(c.Input,{className:"rounded w-full text-gray-700 focus:outline-none border px-2 py-2 focus:border-purple-600 transition duration-500",type:"password",inputMode:"password",name:"password",ref:T({required:"Password cannot be empty",minLength:{value:6,message:"Password must be greater than 5 characters"}})}),R.password&&"required"===R.password.type&&Object(a.jsx)(c.HelperText,{className:"pt-2",valid:!1,children:h.message}),R.password&&"minLength"===R.password.type&&Object(a.jsx)(c.HelperText,{className:"pt-2",valid:!1,children:h.message})]}),Object(a.jsxs)(c.Label,{className:"mb-4",children:[Object(a.jsx)("span",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Confirm Password"}),Object(a.jsx)(c.Input,{className:"rounded w-full text-gray-700 focus:outline-none border px-2 py-2 focus:border-purple-600 transition duration-500",type:"password",inputMode:"password",name:"password2",ref:T({validate:function(e){return e===q.current||"Passwords do not match"}})})]}),R.password&&"required"===R.password.type&&Object(a.jsx)(c.HelperText,{className:"pt-2",valid:!1,children:h.message}),h&&Object(a.jsx)(c.HelperText,{className:"pt-2",valid:!1,children:h.message||""}),Object(a.jsx)(c.Button,{type:"submit",disabled:g,children:g?Object(a.jsx)(o.a,{size:10,color:"#0a138b"}):"Reset Password"})]})})]}):Object(a.jsx)("div",{children:t.message})})}}}]);
//# sourceMappingURL=12.f22a529b.chunk.js.map