{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xiaxiaoyu/Desktop/javascript/PHONE_STORE_FE/src/components/AccountForm.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, HelperText, Input, Label } from \"@windmill/react-ui\";\nimport { useUser } from \"context/UserContext\";\nimport React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\n\nconst AccountForm = ({\n  setShowSettings,\n  userData\n}) => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    setValue\n  } = useForm();\n  const [validationError, setValidationError] = useState();\n  const [isSaving, setIsSaving] = useState(false);\n  const {\n    updateUserData\n  } = useUser();\n  useEffect(() => {\n    setValue(\"fullname\", userData === null || userData === void 0 ? void 0 : userData.fullname);\n    setValue(\"email\", userData === null || userData === void 0 ? void 0 : userData.email);\n    setValue(\"username\", userData === null || userData === void 0 ? void 0 : userData.username);\n    setValue(\"address\", userData === null || userData === void 0 ? void 0 : userData.address);\n    setValue(\"country\", userData === null || userData === void 0 ? void 0 : userData.country);\n    setValue(\"city\", userData === null || userData === void 0 ? void 0 : userData.city);\n    setValue(\"state\", userData === null || userData === void 0 ? void 0 : userData.state);\n    setValue(\"business\", userData === null || userData === void 0 ? void 0 : userData.business);\n  }, [setValue, userData]);\n\n  const onSubmit = async data => {\n    setValidationError();\n    setIsSaving(true);\n\n    try {\n      await updateUserData(data);\n      setShowSettings(false);\n      setIsSaving(false);\n    } catch (error) {\n      setIsSaving(false);\n      setValidationError(error.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"grid place-items-center pt-4 mt-10\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full md:w-1/2 shadow-md overflow-hidden sm:rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:px-6\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900 capitalize\",\n          children: \"Account settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        className: \"border-t border-gray-200 grid grid-cols-1\",\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          className: \"bg-gray-50 px-4 py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500 w-1/4\",\n            children: \"Full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"fullname\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          className: \"bg-white px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"username\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), validationError && /*#__PURE__*/_jsxDEV(HelperText, {\n            valid: false,\n            children: validationError.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"email\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), validationError && /*#__PURE__*/_jsxDEV(HelperText, {\n            valid: false,\n            children: validationError.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"address\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"city\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"State\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"state\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"country\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"business\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"business\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            disabled: isSaving,\n            type: \"submit\",\n            children: isSaving ? /*#__PURE__*/_jsxDEV(PulseLoader, {\n              color: \"#0a138b\",\n              size: 10,\n              loading: isSaving\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this) : \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: isSaving,\n            onClick: () => setShowSettings(false),\n            layout: \"outline\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AccountForm, \"HjKPjlWq+bfUKXMBCd0et4uSJW4=\", false, function () {\n  return [useForm, useUser];\n});\n\n_c = AccountForm;\nexport default AccountForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountForm\");","map":{"version":3,"sources":["/Users/xiaxiaoyu/Desktop/javascript/PHONE_STORE_FE/src/components/AccountForm.jsx"],"names":["Button","HelperText","Input","Label","useUser","React","useEffect","useState","useForm","PulseLoader","AccountForm","setShowSettings","userData","register","handleSubmit","setValue","validationError","setValidationError","isSaving","setIsSaving","updateUserData","fullname","email","username","address","country","city","state","business","onSubmit","data","error","response","message"],"mappings":";;;;;AAAA,SAASA,MAAT,EAAiBC,UAAjB,EAA6BC,KAA7B,EAAoCC,KAApC,QAAiD,oBAAjD;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,eAAF;AAAmBC,EAAAA;AAAnB,CAAD,KAAmC;AAAA;;AACrD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,MAAuCP,OAAO,EAApD;AACA,QAAM,CAACQ,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,EAAtD;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM;AAAEa,IAAAA;AAAF,MAAqBhB,OAAO,EAAlC;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,QAAQ,CAAC,UAAD,EAAaH,QAAb,aAAaA,QAAb,uBAAaA,QAAQ,CAAES,QAAvB,CAAR;AACAN,IAAAA,QAAQ,CAAC,OAAD,EAAUH,QAAV,aAAUA,QAAV,uBAAUA,QAAQ,CAAEU,KAApB,CAAR;AACAP,IAAAA,QAAQ,CAAC,UAAD,EAAaH,QAAb,aAAaA,QAAb,uBAAaA,QAAQ,CAAEW,QAAvB,CAAR;AACAR,IAAAA,QAAQ,CAAC,SAAD,EAAYH,QAAZ,aAAYA,QAAZ,uBAAYA,QAAQ,CAAEY,OAAtB,CAAR;AACAT,IAAAA,QAAQ,CAAC,SAAD,EAAYH,QAAZ,aAAYA,QAAZ,uBAAYA,QAAQ,CAAEa,OAAtB,CAAR;AACAV,IAAAA,QAAQ,CAAC,MAAD,EAASH,QAAT,aAASA,QAAT,uBAASA,QAAQ,CAAEc,IAAnB,CAAR;AACAX,IAAAA,QAAQ,CAAC,OAAD,EAAUH,QAAV,aAAUA,QAAV,uBAAUA,QAAQ,CAAEe,KAApB,CAAR;AACAZ,IAAAA,QAAQ,CAAC,UAAD,EAAaH,QAAb,aAAaA,QAAb,uBAAaA,QAAQ,CAAEgB,QAAvB,CAAR;AACD,GATQ,EASN,CAACb,QAAD,EAAWH,QAAX,CATM,CAAT;;AAWA,QAAMiB,QAAQ,GAAG,MAAOC,IAAP,IAAgB;AAC/Bb,IAAAA,kBAAkB;AAClBE,IAAAA,WAAW,CAAC,IAAD,CAAX;;AACA,QAAI;AACF,YAAMC,cAAc,CAACU,IAAD,CAApB;AACAnB,MAAAA,eAAe,CAAC,KAAD,CAAf;AACAQ,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD,KAJD,CAIE,OAAOY,KAAP,EAAc;AACdZ,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAF,MAAAA,kBAAkB,CAACc,KAAK,CAACC,QAAN,CAAeF,IAAf,CAAoBG,OAArB,CAAlB;AACD;AACF,GAXD;;AAaA,sBACE;AAAS,IAAA,SAAS,EAAC,oCAAnB;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,yDAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,+BACE;AAAI,UAAA,SAAS,EAAC,wDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAME;AACE,QAAA,QAAQ,EAAEnB,YAAY,CAACe,QAAD,CADxB;AAEE,QAAA,SAAS,EAAC,2CAFZ;AAAA,gCAIE,QAAC,KAAD;AAAO,UAAA,SAAS,EAAC,sBAAjB;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,yCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,KAAD;AACE,YAAA,IAAI,EAAC,UADP;AAEE,YAAA,GAAG,EAAEhB,QAFP;AAGE,YAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAcE,QAAC,KAAD;AAAO,UAAA,SAAS,EAAC,qBAAjB;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AACE,YAAA,IAAI,EAAC,UADP;AAEE,YAAA,GAAG,EAAEA,QAFP;AAGE,YAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBAFF,EAOGG,eAAe,iBACd,QAAC,UAAD;AAAY,YAAA,KAAK,EAAE,KAAnB;AAAA,sBAA2BA,eAAe,CAACO;AAA3C;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdF,eAyBE;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,KAAD;AACE,YAAA,IAAI,EAAC,OADP;AAEE,YAAA,GAAG,EAAEV,QAFP;AAGE,YAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBAJF,EASGG,eAAe,iBACd,QAAC,UAAD;AAAY,YAAA,KAAK,EAAE,KAAnB;AAAA,sBAA2BA,eAAe,CAACM;AAA3C;AAAA;AAAA;AAAA;AAAA,kBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzBF,eAsCE;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AACE,YAAA,IAAI,EAAC,SADP;AAEE,YAAA,GAAG,EAAET,QAFP;AAGE,YAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtCF,eA8CE;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,GAAG,EAAEA,QAFP;AAGE,YAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9CF,eAsDE;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AACE,YAAA,IAAI,EAAC,OADP;AAEE,YAAA,GAAG,EAAEA,QAFP;AAGE,YAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtDF,eA8DE;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AACE,YAAA,IAAI,EAAC,SADP;AAEE,YAAA,GAAG,EAAEA,QAFP;AAGE,YAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9DF,eAsEE;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AACE,YAAA,IAAI,EAAC,UADP;AAEE,YAAA,GAAG,EAAEA,QAFP;AAGE,YAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtEF,eA8EE;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,kCACE,QAAC,MAAD;AAAQ,YAAA,QAAQ,EAAEK,QAAlB;AAA4B,YAAA,IAAI,EAAC,QAAjC;AAAA,sBACGA,QAAQ,gBACP,QAAC,WAAD;AAAa,cAAA,KAAK,EAAE,SAApB;AAA+B,cAAA,IAAI,EAAE,EAArC;AAAyC,cAAA,OAAO,EAAEA;AAAlD;AAAA;AAAA;AAAA;AAAA,oBADO,GAGP;AAJJ;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE,QAAC,MAAD;AACE,YAAA,QAAQ,EAAEA,QADZ;AAEE,YAAA,OAAO,EAAE,MAAMP,eAAe,CAAC,KAAD,CAFhC;AAGE,YAAA,MAAM,EAAC,SAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9EF;AAAA;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA0GD,CAxID;;GAAMD,W;UACyCF,O,EAGlBJ,O;;;KAJvBM,W;AA0IN,eAAeA,WAAf","sourcesContent":["import { Button, HelperText, Input, Label } from \"@windmill/react-ui\";\r\nimport { useUser } from \"context/UserContext\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\n\r\nconst AccountForm = ({ setShowSettings, userData }) => {\r\n  const { register, handleSubmit, setValue } = useForm();\r\n  const [validationError, setValidationError] = useState();\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const { updateUserData } = useUser();\r\n\r\n  useEffect(() => {\r\n    setValue(\"fullname\", userData?.fullname);\r\n    setValue(\"email\", userData?.email);\r\n    setValue(\"username\", userData?.username);\r\n    setValue(\"address\", userData?.address);\r\n    setValue(\"country\", userData?.country);\r\n    setValue(\"city\", userData?.city);\r\n    setValue(\"state\", userData?.state);\r\n    setValue(\"business\", userData?.business);\r\n  }, [setValue, userData]);\r\n\r\n  const onSubmit = async (data) => {\r\n    setValidationError();\r\n    setIsSaving(true);\r\n    try {\r\n      await updateUserData(data);\r\n      setShowSettings(false);\r\n      setIsSaving(false);\r\n    } catch (error) {\r\n      setIsSaving(false);\r\n      setValidationError(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"grid place-items-center pt-4 mt-10\">\r\n      <div className=\"w-full md:w-1/2 shadow-md overflow-hidden sm:rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:px-6\">\r\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 capitalize\">\r\n            Account settings\r\n          </h3>\r\n        </div>\r\n        <form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className=\"border-t border-gray-200 grid grid-cols-1\"\r\n        >\r\n          <Label className=\"bg-gray-50 px-4 py-5\">\r\n            <span className=\"text-sm font-medium text-gray-500 w-1/4\">\r\n              Full name\r\n            </span>\r\n            <Input\r\n              name=\"fullname\"\r\n              ref={register}\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n            />\r\n          </Label>\r\n          <Label className=\"bg-white px-4 py-5 \">\r\n            <span className=\"text-sm font-medium text-gray-500\">Username</span>\r\n            <Input\r\n              name=\"username\"\r\n              ref={register}\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n            />\r\n            {validationError && (\r\n              <HelperText valid={false}>{validationError.username}</HelperText>\r\n            )}\r\n          </Label>\r\n          <div className=\"bg-gray-50 px-4 py-5 \">\r\n            <span className=\"text-sm font-medium text-gray-500\">\r\n              Email address\r\n            </span>\r\n            <Input\r\n              name=\"email\"\r\n              ref={register}\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n            />\r\n            {validationError && (\r\n              <HelperText valid={false}>{validationError.email}</HelperText>\r\n            )}\r\n          </div>\r\n          <div className=\"bg-white px-4 py-5 \">\r\n            <span className=\"text-sm font-medium text-gray-500\">Address</span>\r\n            <Input\r\n              name=\"address\"\r\n              ref={register}\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n            />\r\n          </div>\r\n          <div className=\"bg-gray-50 px-4 py-5 \">\r\n            <span className=\"text-sm font-medium text-gray-500\">City</span>\r\n            <Input\r\n              name=\"city\"\r\n              ref={register}\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n            />\r\n          </div>\r\n          <div className=\"bg-white px-4 py-5 \">\r\n            <span className=\"text-sm font-medium text-gray-500\">State</span>\r\n            <Input\r\n              name=\"state\"\r\n              ref={register}\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n            />\r\n          </div>\r\n          <div className=\"bg-gray-50 px-4 py-5 \">\r\n            <span className=\"text-sm font-medium text-gray-500\">Country</span>\r\n            <Input\r\n              name=\"country\"\r\n              ref={register}\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n            />\r\n          </div>\r\n          <div className=\"bg-gray-50 px-4 py-5 \">\r\n            <span className=\"text-sm font-medium text-gray-500\">business</span>\r\n            <Input\r\n              name=\"business\"\r\n              ref={register}\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n            />\r\n          </div>\r\n          <div className=\"px-4 py-5 space-x-4\">\r\n            <Button disabled={isSaving} type=\"submit\">\r\n              {isSaving ? (\r\n                <PulseLoader color={\"#0a138b\"} size={10} loading={isSaving} />\r\n              ) : (\r\n                \"Save\"\r\n              )}\r\n            </Button>\r\n            <Button\r\n              disabled={isSaving}\r\n              onClick={() => setShowSettings(false)}\r\n              layout=\"outline\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AccountForm;\r\n"]},"metadata":{},"sourceType":"module"}