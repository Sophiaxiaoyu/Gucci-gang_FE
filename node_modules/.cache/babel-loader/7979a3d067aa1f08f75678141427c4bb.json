{"ast":null,"code":"import axios from \"axios\";\nconst baseURL = process.env.NODE_ENV === \"production\" ? process.env.REACT_APP_API_URL : \"/api\";\nconst API = axios.create({\n  baseURL,\n  withCredentials: true\n});\nAPI.interceptors.request.use(function (req) {\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  if (token) req.headers[\"auth-token\"] = token;\n  return req;\n}, function (error) {\n  return Promise.reject(error);\n});\nexport default API;","map":{"version":3,"sources":["/Users/xiaxiaoyu/Desktop/javascript/dbms project/PHONE_STORE_FE/src/api/axios.config.js"],"names":["axios","baseURL","process","env","NODE_ENV","REACT_APP_API_URL","API","create","withCredentials","interceptors","request","use","req","token","JSON","parse","localStorage","getItem","headers","error","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GACXC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACIF,OAAO,CAACC,GAAR,CAAYE,iBADhB,GAEI,MAHN;AAKA,MAAMC,GAAG,GAAGN,KAAK,CAACO,MAAN,CAAa;AACvBN,EAAAA,OADuB;AAEvBO,EAAAA,eAAe,EAAE;AAFM,CAAb,CAAZ;AAKAF,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACE,UAAUC,GAAV,EAAe;AACb,QAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,MAAIJ,KAAJ,EAAWD,GAAG,CAACM,OAAJ,CAAY,YAAZ,IAA4BL,KAA5B;AACX,SAAOD,GAAP;AACD,CALH,EAME,UAAUO,KAAV,EAAiB;AACf,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CARH;AAWA,eAAeb,GAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseURL =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? process.env.REACT_APP_API_URL\r\n    : \"/api\";\r\n\r\nconst API = axios.create({\r\n  baseURL,\r\n  withCredentials: true,\r\n});\r\n\r\nAPI.interceptors.request.use(\r\n  function (req) {\r\n    const token = JSON.parse(localStorage.getItem(\"token\"));\r\n    if (token) req.headers[\"auth-token\"] = token;\r\n    return req;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default API;\r\n"]},"metadata":{},"sourceType":"module"}