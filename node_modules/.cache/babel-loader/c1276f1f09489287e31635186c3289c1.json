{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xiaxiaoyu/Desktop/javascript/dbms project/PHONE_STORE_FE/src/components/AdjustInventory.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Label, Input } from \"@windmill/react-ui\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport productService from \"services/product.service\";\nimport toast from \"react-hot-toast\";\nexport default function AdjustInventory({\n  isModalOpen,\n  closeModal,\n  product\n}) {\n  _s();\n\n  const [flag, setFlag] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    setValue\n  } = useForm();\n  useEffect(() => {\n    setFlag(isModalOpen);\n  }, [isModalOpen]);\n\n  const handleAdjust = async data => {\n    const querDate = { ...product,\n      name: data.name.length > 0 ? data.name : product.name,\n      inventory: data.inventory\n    };\n\n    try {\n      await productService.updateProduct(querDate);\n      toast.success(\"Adjust product success\");\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: flag,\n    onClose: closeModal,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(data => handleAdjust(data)),\n      className: \"border-t border-gray-200 grid grid-cols-1\",\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        children: \"Modal header\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          className: \"bg-gray-50 px-4 py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500 w-1/4\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"name\",\n            ref: register,\n            placeholder: product.name,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          className: \"bg-white px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Inventory\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"inventory\",\n            ref: register,\n            placeholder: product.inventory,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"w-full sm:w-auto\",\n          layout: \"outline\",\n          onClick: closeModal,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"w-full sm:w-auto\",\n          type: \"submit\",\n          children: \"Accept\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 3\n  }, this);\n}\n\n_s(AdjustInventory, \"w56U0OLKx1VsySRimZ1XVu3EEo0=\", false, function () {\n  return [useForm];\n});\n\n_c = AdjustInventory;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdjustInventory\");","map":{"version":3,"sources":["/Users/xiaxiaoyu/Desktop/javascript/dbms project/PHONE_STORE_FE/src/components/AdjustInventory.jsx"],"names":["React","Modal","ModalHeader","ModalBody","ModalFooter","Button","Label","Input","useState","useEffect","useForm","productService","toast","AdjustInventory","isModalOpen","closeModal","product","flag","setFlag","register","handleSubmit","setValue","handleAdjust","data","querDate","name","length","inventory","updateProduct","success","setTimeout","window","location","reload","error","response","message"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n\tModal,\n\tModalHeader,\n\tModalBody,\n\tModalFooter,\n\tButton,\n\tLabel,\n\tInput,\n} from \"@windmill/react-ui\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport productService from \"services/product.service\";\nimport toast from \"react-hot-toast\";\n\nexport default function AdjustInventory({ isModalOpen, closeModal, product }) {\n\tconst [flag, setFlag] = useState(false);\n\tconst { register, handleSubmit, setValue } = useForm();\n\n\tuseEffect(() => {\n\t\tsetFlag(isModalOpen);\n\t}, [isModalOpen]);\n\n\tconst handleAdjust = async (data) => {\n\t\tconst querDate = {\n\t\t\t...product,\n\t\t\tname: data.name.length > 0 ? data.name : product.name,\n\t\t\tinventory: data.inventory,\n\t\t};\n\t\ttry {\n\t\t\tawait productService.updateProduct(querDate);\n\t\t\ttoast.success(\"Adjust product success\");\n\t\t\tsetTimeout(() => {\n\t\t\t\twindow.location.reload();\n\t\t\t}, 1000);\n\t\t} catch (error) {\n\t\t\ttoast.error(error.response.data.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal isOpen={flag} onClose={closeModal}>\n\t\t\t<form\n\t\t\t\tonSubmit={handleSubmit((data) => handleAdjust(data))}\n\t\t\t\tclassName=\"border-t border-gray-200 grid grid-cols-1\"\n\t\t\t>\n\t\t\t\t<ModalHeader>Modal header</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Label className=\"bg-gray-50 px-4 py-5\">\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500 w-1/4\">\n\t\t\t\t\t\t\tName\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tref={register}\n\t\t\t\t\t\t\tplaceholder={product.name}\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Label>\n\t\t\t\t\t<Label className=\"bg-white px-4 py-5 \">\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500\">Inventory</span>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"inventory\"\n\t\t\t\t\t\t\tref={register}\n\t\t\t\t\t\t\tplaceholder={product.inventory}\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Label>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"w-full sm:w-auto\"\n\t\t\t\t\t\tlayout=\"outline\"\n\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button className=\"w-full sm:w-auto\" type=\"submit\">\n\t\t\t\t\t\tAccept\n\t\t\t\t\t</Button>\n\t\t\t\t</ModalFooter>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}