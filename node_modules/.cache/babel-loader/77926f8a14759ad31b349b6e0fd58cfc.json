{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n/**\n * @desc 股票图数据处理\n * @param data\n * @param yField\n */\n\nexport function getStockData(data, yField) {\n  return map(data, function (item) {\n    var obj = item && __assign({}, item);\n\n    if (isArray(yField) && obj) {\n      var open_1 = yField[0],\n          close_1 = yField[1],\n          high = yField[2],\n          low = yField[3];\n      obj[TREND_FIELD] = obj[open_1] <= obj[close_1] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open_1], obj[close_1], obj[high], obj[low]];\n    }\n\n    return obj;\n  });\n}","map":{"version":3,"sources":["../../../src/plots/stock/utils.ts"],"names":[],"mappings":";AAAA,SAAS,OAAT,EAAkB,GAAlB,QAA6B,YAA7B;AACA,SAAS,WAAT,EAAsB,UAAtB,EAAkC,QAAlC,EAA4C,OAA5C,QAA2D,YAA3D;AAEA;;;;AAIG;;AACH,OAAM,SAAU,YAAV,CAAuB,IAAvB,EAAoD,MAApD,EAA4F;AAChG,SAAO,GAAG,CAAC,IAAD,EAAO,UAAC,IAAD,EAAK;AACpB,QAAM,GAAG,GAAG,IAAI,IAAA,QAAA,CAAA,EAAA,EAAS,IAAT,CAAhB;;AACA,QAAI,OAAO,CAAC,MAAD,CAAP,IAAmB,GAAvB,EAA4B;AACnB,UAAA,MAAI,GAAsB,MAAM,CAA5B,CAA4B,CAAhC;AAAA,UAAM,OAAK,GAAe,MAAM,CAArB,CAAqB,CAAhC;AAAA,UAAa,IAAI,GAAS,MAAM,CAAf,CAAe,CAAhC;AAAA,UAAmB,GAAG,GAAI,MAAM,CAAV,CAAU,CAAhC;AACP,MAAA,GAAG,CAAC,WAAD,CAAH,GAAmB,GAAG,CAAC,MAAD,CAAH,IAAa,GAAG,CAAC,OAAD,CAAhB,GAA0B,QAA1B,GAAqC,UAAxD;AACA,MAAA,GAAG,CAAC,OAAD,CAAH,GAAe,CAAC,GAAG,CAAC,MAAD,CAAJ,EAAY,GAAG,CAAC,OAAD,CAAf,EAAwB,GAAG,CAAC,IAAD,CAA3B,EAAmC,GAAG,CAAC,GAAD,CAAtC,CAAf;AACD;;AACD,WAAO,GAAP;AACD,GARS,CAAV;AASD","sourcesContent":["import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc 股票图数据处理\n * @param data\n * @param yField\n */\nexport function getStockData(data: Record<string, any>[], yField: [string, string, string, string]) {\n  return map(data, (item) => {\n    const obj = item && { ...item };\n    if (isArray(yField) && obj) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}