{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xiaxiaoyu/Desktop/javascript/DBSM_phone/PHONE_STORE_FE/src/components/AccountForm.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, HelperText, Input, Label } from \"@windmill/react-ui\";\nimport { useUser } from \"context/UserContext\";\nimport React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\nimport toast from \"react-hot-toast\";\n\nconst AccountForm = ({\n  setShowSettings,\n  userData\n}) => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    setValue\n  } = useForm();\n  const [validationError, setValidationError] = useState();\n  const [isSaving, setIsSaving] = useState(false);\n  const {\n    updateUserData\n  } = useUser();\n  useEffect(() => {\n    setValue(\"fullname\", userData === null || userData === void 0 ? void 0 : userData.fullname);\n    setValue(\"email\", userData === null || userData === void 0 ? void 0 : userData.email);\n    setValue(\"username\", userData === null || userData === void 0 ? void 0 : userData.username);\n    setValue(\"address\", userData === null || userData === void 0 ? void 0 : userData.address);\n    setValue(\"country\", userData === null || userData === void 0 ? void 0 : userData.country);\n    setValue(\"city\", userData === null || userData === void 0 ? void 0 : userData.city);\n    setValue(\"state\", userData === null || userData === void 0 ? void 0 : userData.state);\n    setValue(\"business\", userData === null || userData === void 0 ? void 0 : userData.business);\n  }, [setValue, userData]);\n\n  const onSubmit = async data => {\n    setValidationError();\n    setIsSaving(true);\n\n    try {\n      await updateUserData(data);\n      setShowSettings(false);\n      setIsSaving(false);\n      toast.success(\"Update profile successfully\");\n    } catch (error) {\n      setIsSaving(false);\n      setValidationError(error.response.data.message);\n      toast.error(error.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"grid place-items-center pt-4 mt-10\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full md:w-1/2 shadow-md overflow-hidden sm:rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:px-6\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900 capitalize\",\n          children: \"Account settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        className: \"border-t border-gray-200 grid grid-cols-1\",\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          className: \"bg-gray-50 px-4 py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500 w-1/4\",\n            children: \"Full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"fullname\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          className: \"bg-white px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"username\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this), validationError && /*#__PURE__*/_jsxDEV(HelperText, {\n            valid: false,\n            children: validationError.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"email\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this), validationError && /*#__PURE__*/_jsxDEV(HelperText, {\n            valid: false,\n            children: validationError.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"address\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"city\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"State\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"state\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"country\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 px-4 py-5 \",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: \"Business\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"business\",\n            ref: register,\n            className: \"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            disabled: isSaving,\n            type: \"submit\",\n            children: isSaving ? /*#__PURE__*/_jsxDEV(PulseLoader, {\n              color: \"#0a138b\",\n              size: 10,\n              loading: isSaving\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 9\n            }, this) : \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: isSaving,\n            onClick: () => setShowSettings(false),\n            layout: \"outline\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AccountForm, \"HjKPjlWq+bfUKXMBCd0et4uSJW4=\", false, function () {\n  return [useForm, useUser];\n});\n\n_c = AccountForm;\nexport default AccountForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountForm\");","map":{"version":3,"sources":["/Users/xiaxiaoyu/Desktop/javascript/DBSM_phone/PHONE_STORE_FE/src/components/AccountForm.jsx"],"names":["Button","HelperText","Input","Label","useUser","React","useEffect","useState","useForm","PulseLoader","toast","AccountForm","setShowSettings","userData","register","handleSubmit","setValue","validationError","setValidationError","isSaving","setIsSaving","updateUserData","fullname","email","username","address","country","city","state","business","onSubmit","data","success","error","response","message"],"mappings":"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","sourcesContent":["import { Button, HelperText, Input, Label } from \"@windmill/react-ui\";\r\nimport { useUser } from \"context/UserContext\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst AccountForm = ({ setShowSettings, userData }) => {\r\n\tconst { register, handleSubmit, setValue } = useForm();\r\n\tconst [validationError, setValidationError] = useState();\r\n\tconst [isSaving, setIsSaving] = useState(false);\r\n\tconst { updateUserData } = useUser();\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue(\"fullname\", userData?.fullname);\r\n\t\tsetValue(\"email\", userData?.email);\r\n\t\tsetValue(\"username\", userData?.username);\r\n\t\tsetValue(\"address\", userData?.address);\r\n\t\tsetValue(\"country\", userData?.country);\r\n\t\tsetValue(\"city\", userData?.city);\r\n\t\tsetValue(\"state\", userData?.state);\r\n\t\tsetValue(\"business\", userData?.business);\r\n\t}, [setValue, userData]);\r\n\r\n\tconst onSubmit = async (data) => {\r\n\t\tsetValidationError();\r\n\t\tsetIsSaving(true);\r\n\t\ttry {\r\n\t\t\tawait updateUserData(data);\r\n\t\t\tsetShowSettings(false);\r\n\t\t\tsetIsSaving(false);\r\n\t\t\ttoast.success(\"Update profile successfully\");\r\n\t\t} catch (error) {\r\n\t\t\tsetIsSaving(false);\r\n\t\t\tsetValidationError(error.response.data.message);\r\n\t\t\ttoast.error(error.response.data.message);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section className=\"grid place-items-center pt-4 mt-10\">\r\n\t\t\t<div className=\"w-full md:w-1/2 shadow-md overflow-hidden sm:rounded-lg\">\r\n\t\t\t\t<div className=\"px-4 py-5 sm:px-6\">\r\n\t\t\t\t\t<h3 className=\"text-lg leading-6 font-medium text-gray-900 capitalize\">\r\n\t\t\t\t\t\tAccount settings\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form\r\n\t\t\t\t\tonSubmit={handleSubmit(onSubmit)}\r\n\t\t\t\t\tclassName=\"border-t border-gray-200 grid grid-cols-1\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Label className=\"bg-gray-50 px-4 py-5\">\r\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500 w-1/4\">\r\n\t\t\t\t\t\t\tFull name\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"fullname\"\r\n\t\t\t\t\t\t\tref={register}\r\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Label>\r\n\t\t\t\t\t<Label className=\"bg-white px-4 py-5 \">\r\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500\">Username</span>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\tref={register}\r\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{validationError && (\r\n\t\t\t\t\t\t\t<HelperText valid={false}>{validationError.username}</HelperText>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Label>\r\n\t\t\t\t\t<div className=\"bg-gray-50 px-4 py-5 \">\r\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500\">\r\n\t\t\t\t\t\t\tEmail address\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tref={register}\r\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{validationError && (\r\n\t\t\t\t\t\t\t<HelperText valid={false}>{validationError.email}</HelperText>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"bg-white px-4 py-5 \">\r\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500\">Address</span>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\tref={register}\r\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"bg-gray-50 px-4 py-5 \">\r\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500\">City</span>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\t\t\tref={register}\r\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"bg-white px-4 py-5 \">\r\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500\">State</span>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"state\"\r\n\t\t\t\t\t\t\tref={register}\r\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"bg-gray-50 px-4 py-5 \">\r\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500\">Country</span>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"country\"\r\n\t\t\t\t\t\t\tref={register}\r\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"bg-gray-50 px-4 py-5 \">\r\n\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-500\">Business</span>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname=\"business\"\r\n\t\t\t\t\t\t\tref={register}\r\n\t\t\t\t\t\t\tclassName=\"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"px-4 py-5 space-x-4\">\r\n\t\t\t\t\t\t<Button disabled={isSaving} type=\"submit\">\r\n\t\t\t\t\t\t\t{isSaving ? (\r\n\t\t\t\t\t\t\t\t<PulseLoader color={\"#0a138b\"} size={10} loading={isSaving} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"Save\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={isSaving}\r\n\t\t\t\t\t\t\tonClick={() => setShowSettings(false)}\r\n\t\t\t\t\t\t\tlayout=\"outline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default AccountForm;\r\n"]},"metadata":{},"sourceType":"module"}